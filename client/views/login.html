<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Node React Web" />
    <link rel="icon" href="" />
    <title>Node Web Login</title>
  </head>
  <body>
    <div style="width: 300px; height:200px; margin:0 auto; border:1px solid black; padding:15px">
        <input type="text" id="user_id" placeholder="로그인 ID" style="width: 100%; display: block;"/>
        <input type="password" id="password" placeholder="패스워드" style="width: 100%; display: block; margin-top: 10px;"/>
        <button style="width:100%;height: 25px;" onclick="login()">로그인</button>
    </div>
    <script>
        function login() {
            let user_id = document.getElementById('user_id').value;
            let password = document.getElementById('password').value;
            console.log("로그인 정보 : ", user_id, password);
            fetch("/login.json", {
              method: "POST",
              body: JSON.stringify({'user_id':user_id, 'password':password}),
              headers: {
                "Content-Type": "application/json; charset=UTF-8",
              },
            })
              .then((response) => response.json())
              .then((data) => {
                console.log("login() / login.json : ",data);
                alert(data.message);
                if(data.isSuccess == true) {
                    window.location.href='/';
                }else{

                }
                //navigate("/");
              })
              .catch((error) => {
                console.log(
                  "careRequestInsert() /careRequsetInsert.json error : ",
                  error
                );
              });
          }
    </script>
  </body>
</html>
